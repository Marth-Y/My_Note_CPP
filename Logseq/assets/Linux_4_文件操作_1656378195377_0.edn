{:highlights [{:id #uuid "62ba537d-3c12-438b-9fb0-fc9f1827ad3d", :page 1, :position {:bounding {:x1 147.625, :y1 1075.9125061035156, :x2 779.2199096679688, :y2 1140.3125, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 147.625, :y1 1075.9125061035156, :x2 763.218994140625, :y2 1095.1125183105469, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 1098.5125122070312, :x2 779.2199096679688, :y2 1117.7124938964844, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 1121.1125183105469, :x2 661.718505859375, :y2 1140.3125, :width 896.0000000000001, :height 1267.9177087535297}), :page 1}, :content {:text "ab和ab+为追加模式，在此两种模式下，在一开始的时候读取文件内容是从文件起始处开始读取的，而无论文件读写点定位到何处，在写数据时都将是在文件末尾添加（写完以后读写点就移动到文件末尾了），所以比较适合于多进程写同一个文件的情况下保证数据的完整性"}, :properties {:color "yellow"}} {:id #uuid "62ba53b2-0668-4d8d-88c9-26cd085b8995", :page 3, :position {:bounding {:x1 128.41250610351562, :y1 1060.5250091552734, :x2 256.30023193359375, :y2 1073.3249969482422, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 128.41250610351562, :y1 1060.5250091552734, :x2 256.30023193359375, :y2 1073.3249969482422, :width 896.0000000000001, :height 1267.9177087535297}), :page 3}, :content {:text "getcwd(NULL, 0);"}, :properties {:color "blue"}} {:id #uuid "62ba53ef-3620-471b-8156-526b2fea4a1e", :page 7, :position {:bounding {:x1 144.35000610351562, :y1 486.4750061035156, :x2 254.4051971435547, :y2 499.2749938964844, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 144.35000610351562, :y1 486.4750061035156, :x2 254.4051971435547, :y2 499.2749938964844, :width 896.0000000000001, :height 1267.9177087535297}), :page 7}, :content {:text "结构体stat的定义"}, :properties {:color "yellow"}} {:id #uuid "62ba5401-629e-4b9b-89eb-d08fe1191e8d", :page 8, :position {:bounding {:x1 147.625, :y1 261.1625061035156, :x2 775.4532470703125, :y2 302.9624938964844, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 147.625, :y1 261.1625061035156, :x2 775.4532470703125, :y2 280.3625183105469, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 283.76251220703125, :x2 773.90087890625, :y2 302.9624938964844, :width 896.0000000000001, :height 1267.9177087535297}), :page 8}, :content {:text "上一节所讨论的文件都是使用FILE类型来管理，根据FILE类型的结构可知它的本质是一个缓冲区。与FILE类型相关的文件操作（比如fopen，fread等等）称为带缓冲的IO，它们是ISO C的组成部分"}, :properties {:color "red"}} {:id #uuid "62ba5429-1466-49f5-8d81-2592eebb3612", :page 8, :position {:bounding {:x1 147.625, :y1 306.3625183105469, :x2 779.2199096679688, :y2 393.375, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 147.625, :y1 306.3625183105469, :x2 776.967041015625, :y2 325.5625, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 328.9624938964844, :x2 779.2199096679688, :y2 348.1625061035156, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 351.57501220703125, :x2 764.5321655273438, :y2 370.7749938964844, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 374.1750183105469, :x2 779.2199096679688, :y2 393.375, :width 896.0000000000001, :height 1267.9177087535297}), :page 8}, :content {:text "POSIX标准支持另一类不带缓冲区的IO。在这里，文件是使用文件描述符来描述。文件描述符是一个非负整数。从原理上来说，进程地址空间的内核部分里面会维护一个已经打开的文件的数组，这个数组用来管理所有已经打开的文件（打开的文件存储在进程地址空间的内核区中，称为文件对象），而文件描述符就是这个数组的索引。因此，文件描述符可以实现进程和打开文件之间的交互"}, :properties {:color "purple"}} {:id #uuid "62ba550b-942f-40c3-be4f-a4259af401c7", :page 9, :position {:bounding {:x1 147.625, :y1 543.6750183105469, :x2 781.4021606445312, :y2 608.0750122070312, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 147.625, :y1 543.6750183105469, :x2 775.4901733398438, :y2 562.875, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 566.2750244140625, :x2 781.4021606445312, :y2 585.4750061035156, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 588.875, :x2 177.0128631591797, :y2 608.0750122070312, :width 896.0000000000001, :height 1267.9177087535297}), :page 9}, :content {:text "使用完文件以后，要记得使用close来关闭文件。一旦调用close，则该进程对文件所加的锁全都被释放，并且使文件的打开引用计数减1，只有文件的打开引用计数变为0以后，文件才会被真正的关闭。"}, :properties {:color "yellow"}} {:id #uuid "62ba5551-7b91-47fb-9ce5-ab4c810d71ab", :page 9, :position {:bounding {:x1 147.625, :y1 1061.2125549316406, :x2 723.7021484375, :y2 1080.4125366210938, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 147.625, :y1 1061.2125549316406, :x2 723.7021484375, :y2 1080.4125366210938, :width 896.0000000000001, :height 1267.9177087535297}), :page 9}, :content {:text "对于read和write函数，出错返回-1，读取完了之后，返回0，其他情况返回读写的个数。"}, :properties {:color "blue"}} {:id #uuid "62ba55f0-e9fd-441e-a752-48bd1530339b", :page 10, :position {:bounding {:x1 113.7249984741211, :y1 579.8375244140625, :x2 781.60107421875, :y2 655.5375061035156, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 113.7249984741211, :y1 579.8375244140625, :x2 233.2760772705078, :y2 599.0375061035156, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 613.7375183105469, :x2 781.60107421875, :y2 632.9375, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 636.3375244140625, :x2 338.57733154296875, :y2 655.5375061035156, :width 896.0000000000001, :height 1267.9177087535297}), :page 10}, :content {:text "read的效率问题：使用不带缓冲IO的时候，CPU需要陷入内核态来处理文件读取。如果频繁地使用read来读取少量数据，数据的读取效率会比较低"}, :properties {:color "purple"}} {:id #uuid "62ba56cd-0188-4c53-b9d5-dcb2688ac434", :page 11, :position {:bounding {:x1 147.625, :y1 831.8250427246094, :x2 781.7750244140625, :y2 873.6250457763672, :width 896.0000000000001, :height 1267.9177087535297}, :rects ({:x1 147.625, :y1 831.8250427246094, :x2 781.7750244140625, :y2 851.0250396728516, :width 896.0000000000001, :height 1267.9177087535297} {:x1 147.625, :y1 854.4250335693359, :x2 227.10964965820312, :y2 873.6250457763672, :width 896.0000000000001, :height 1267.9177087535297}), :page 11}, :content {:text "使用mmap接口可以实现直接将一个磁盘文件映射到存储空间的一个缓冲区上面，无需使用read和write进行IO"}, :properties {:color "yellow"}} {:id #uuid "62bba586-0193-4028-a9a1-3392306a6cd9", :page 17, :position {:bounding {:x1 153.22499999403954, :y1 668.7750091552734, :x2 811.5804687440395, :y2 712.2375030517578, :width 929.9999999999998, :height 1316.0306575231943}, :rects ({:x1 153.22499999403954, :y1 668.7750091552734, :x2 811.5804687440395, :y2 688.7750091552734, :width 929.9999999999998, :height 1316.0306575231943} {:x1 153.22499999403954, :y1 692.2375030517578, :x2 214.21796569228172, :y2 712.2375030517578, :width 929.9999999999998, :height 1316.0306575231943}), :page 17}, :content {:text "（有名）管道文件是用来数据通信的一种文件，它是半双工通信，它在ls -l命令中显示为p，它不能存储数据"}, :properties {:color "yellow"}} {:id #uuid "62bba613-373d-461a-97bd-da85e28b999c", :page 18, :position {:bounding {:x1 153.22499999403954, :y1 475.2500228881836, :x2 346.64080199599266, :y2 495.2500228881836, :width 929.9999999999998, :height 1316.0306575231943}, :rects ({:x1 153.22499999403954, :y1 475.2500228881836, :x2 346.64080199599266, :y2 495.2500228881836, :width 929.9999999999998, :height 1316.0306575231943}), :page 18}, :content {:text "禁止使用vim来打开管道文件"}, :properties {:color "yellow"}} {:id #uuid "62bba679-ef62-41c9-9dd4-c5fd91cc3bd6", :page 18, :position {:bounding {:x1 153.22499999403954, :y1 608.9625091552734, :x2 810.9909301698208, :y2 652.4250030517578, :width 929.9999999999998, :height 1316.0306575231943}, :rects ({:x1 153.22499999403954, :y1 608.9625091552734, :x2 810.9909301698208, :y2 628.9625091552734, :width 929.9999999999998, :height 1316.0306575231943} {:x1 153.22499999403954, :y1 632.4250030517578, :x2 244.72068175673485, :y2 652.4250030517578, :width 929.9999999999998, :height 1316.0306575231943}), :page 18}, :content {:text "阻塞：在目前的模式下，read函数如果不能从文件中读取内容，就将进程的状态切换到阻塞状态，不再继续执行"}, :properties {:color "yellow"}} {:id #uuid "62bba68e-e7b1-4034-8227-e3456b708057", :page 18, :position {:bounding {:x1 153.22499999403954, :y1 836.5000457763672, :x2 802.3517089784145, :y2 879.9625396728516, :width 929.9999999999998, :height 1316.0306575231943}, :rects ({:x1 153.22499999403954, :y1 836.5000457763672, :x2 802.3517089784145, :y2 856.5000457763672, :width 929.9999999999998, :height 1316.0306575231943} {:x1 153.22499999403954, :y1 859.9625396728516, :x2 183.72773131728172, :y2 879.9625396728516, :width 929.9999999999998, :height 1316.0306575231943}), :page 18}, :content {:text "因为管道文件是半双工通信，为了实现全双工通信，可以使用2个管道文件。这样就可以实现即时聊天"}, :properties {:color "blue"}}]}