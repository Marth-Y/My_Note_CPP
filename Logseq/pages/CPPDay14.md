- # 一、验证虚表的存在
	- 看前面虚表的图，虚表存储函数入口地址，虚函数指针指向虚表，形似二级指针，所以用二级指针来验证虚表的存在。
	- C++代码可以翻译成C代码
	- checkVirtualTable.cc
- # 二、多重继承
	- 在VS中，可视化类的内存布局
	- this -= 8,goto : ...   虚函数被覆盖；前面是指针偏移，后面是goto指令，找对应函数入口，跳转到另一个地方。this=this->virptr
	- 虚函数表中存放的全部都是虚函数的入口地址吗？
		- 不一定，还有可能是一条跳转指令。
		- 只有第一次覆盖会改表，后面的表都是跳转指令
	- 因为涉及到偏移信息，如果有虚函数的基类，尽量会放到对象存储布局的开始位置。当基类Base1中没有虚函数，而基类B2/B3有虚函数时，就将Base1放在了Base3的后面。
		- 虚函数指针放前面，直接就拿到了，就不用偏移了。
	- 用不同的基类指针 = 派生类对象地址，他们的地址是不同的，各自指向自己能操作的信息的部分的地址。
		- ==我终于知道了，如何在派生类中找到基类的部分！派生类对象向基类对象指针的转换。前面输出运算符重载==
- # 三、虚拟继承 VS 虚函数
	- 两种语法中，为什么都要用virtual关键字？
		- virtual关键字代表的含义是 **存在、间接、共享**
	- 使用普通继承与虚拟继承的区别体现在哪里呢？==补笔记==
		- 虚基类：
			- 正确说法：Base是Derived的虚基类
			- 错误说法：Base是虚基类
	- 基类A中没有虚函数，B采用虚拟继承
		- 1.vbptr是
	- 此时C拥有自己新的虚函数表，如果将run3直接放到虚基类A的虚表中，会有什么影响呢？
		- 答：当C作为基类向下派生新的派生类时，如果需要调用run3，还需要进行偏移才能找到其位置；但直接放在C的开始位置，就可以不需要偏移，一切都是为了效率考虑。
	- vfptr和vbptr在GCC中合并了。在GCC的实现中，他们同时出现时会合并成一个指针。
		- 这个指针即可以找虚函数也可以找基类的虚表的偏移信息
-
- D的新的虚函数会放到第一个正常继承的基类的虚表中。
- VirtualInherientDerived.cc
-
- # 四、类与类之间的五种关系 #面试重点
	- ## 1.垂直方向一种
		- ### 1.继承
			- 在语义上表达的是A is B或者IS-A的关系=》派生类必须要是一个基类
			- 基类部分会成为派生类一部分，紧耦合的。
			- 在设计时，不要轻易使用继承
			- 在UML类图中，使用空心的三角箭头表示，并且箭头指向的是基类
	- ## 2.水平方向四种
		- 依赖<关联<聚合<组合
		- 组合和继承耦合性强弱对比
			- 对于继承：基类就是派生类的一部分，派生类知道基类的内部
			- 对于组合，类并不知道其一个类对象的内部如何。
			- 所以继承的耦合性更强
		- ### 2.依赖
			- 在语义上，是A use B的关系。
			- 在代码上，**用成员函数来表现。**
				- 1.通过**成员函数参数**来体现
				- 2.在A**成员函数内部创建B的对象**。
				- 3.B作为A的**成员函数的返回值**
					- A和B本来没关系，互相都不是对方的数据成员，但是可以通过函数、对象、函数返回值建立起了联系。如：宠物和主人，互相本来没什么关系，但是主人通过喂食这一行为和宠物产生了联系。
			- 这种关系是临时的，并非固定的，只要不调用该函数，A和B彼此无关。
			- 在类图上，依赖用虚线箭头表示
				- 关系最弱，虚线，若有若无
		- ### 3.关联
			- 在语义上，A has B，has表示拥有
			- 在代码上，B作为A的数据成员出现，**可以是指针或者引用成员**
			- 前提：A和B彼此并不负责对方的生命周期。
				- 即：两个类各自有自己独立的生命周期
			- 有两种表现形式
				- 1.单向的关联关系，在类图上，用直线箭头表示
					- 条件变量与互斥锁彼此并不负责对方的生命周期，条件变量知道互斥锁的存在，但互斥锁并不知道条件变量的存在，称其为单向的关联关系。条件变量拥有互斥锁。
				- 2.双向的关联关系，在类图上，用直线表示
					- 顾客与订单信息彼此都知道对方的存在。顾客拥有订单信息
		- ### 4.聚合
			- 在语义上，是A has B的关系，是一种比较强的关联关系。
				- 是关联的升级
			- 在代码上，**用指针或者引用**。
			- 具有整体和局部的概念，整体拥有局部的，**但整体并不负责局部的生命周期**
				- 如：电脑拥有各个零件，但是电脑并不负责各个零件的生命周期。而且电脑被拆了，但是零件还能用，电脑已经没了。
			- 在类图上，用空心的菱形箭头表示，箭头指向的是整体。
		- ### 5.组合
			- 在语义上，是A has B的关系，是一种更强的关联关系。
			- 在代码上，**用类对象成员表示**
				- 就是成为它的一个类对象数据成员。
			- 具有整体和局部的概念，整体拥有局部的，**且整体负责局部的生命周期**
				- 如：公司和各部门，及各部门工作人员的关系。一旦公司倒闭了，这些部门和工作人员就都没了
			-